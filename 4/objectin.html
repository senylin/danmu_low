<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"/> 
    <title>Room</title>
    <link href=".//css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
    <link href="./css/style.css" rel="stylesheet" type="text/css"/>
    <script src="./js/jquery-2.1.3.min.js" type="text/javascript"></script>
    <script src="./js/bootstrap.min.js" type="text/javascript"></script>
    <!--引入数据库-->
    <script type="text/javascript"  src="https://cdn1.lncld.net/static/js/av-mini-0.5.4.js" ></script>
    <script type="text/javascript"  >
        AV.initialize("x6hs7ogm9y571i5v48i9af2r7vj7pitp1b46o9kryliwvpwy", "38igpao6m51xzfh5l8pm3qpez5f87ir7ixg5vp1y6huyi79w");
    </script>
    <script type="text/javascript" src="./js/next.js"></script>
</head>
<body>
    <script  type="text/javascript">
  var strs = "";
  var J=0;
  var Chi ;
  var query ;
  //清除输入行
   $(document).ready(function(){
    $(".btn").click(function(){
      $("#bibi").val("");
    })
   })

    $(document).ready(function(){
        $("#openroom").click(function(){
            var a = $("#forroom").val();
              if (/^[a-za-z]+$/.test(a))   
        {  
             if(a.length>8){ 
          alert("最多输入八个英文字符");
        }else if(a.length==0) {
          alert("至少输入一个英文字符");
        }else{   
            strs=a;
            Chi = AV.Object.extend(strs);
            query = new AV.Query(strs);
            if(query.doesNotExist(strs)){
          init(strs);
          loadIn(strs);
          $(".navout").slideUp();
        }

}
    }else{
      alert("请输入英文房间ID");
   }
        
        })
    })

    $(document).ready(function(){
        $("#beinroom").click(function(){
            var a = $("#forroom").val();
            if (/^[a-za-z]+$/.test(a))   
        {  
       //           
       //   
       //  return false;  
       
             if(a.length>8){ 
          alert("最多输入八个英文字符");
        }else if(a.length==0) {
          alert("至少输入一个英文字符");
        }else{   
             strs=a;
             
            query = new AV.Query(strs);
            query.equalTo("classify", strs);
            query.find({
  success: function(results) {
    if(results.length!=0){
       Chi = AV.Object.extend(strs);
            // init(strs);
          loadIn(strs);
          $(".navout").slideUp();
        }else{
          alert("你输入的房间ID不存在!");
        }
 
  },
  error: function(error) {
    alert("你输入的房间ID不存在!");
  }
});
      
  }
   }else{
      alert("请输入英文房间ID");
   }
        })
    })
  


</script>
<div class="allpage">
    <nav class="navbar navbar-default" role="navigation">
        <button type="button" class="navbar-toggle navbut2" data-toggle="collapse"
                data-target="#example-navbar-collapse">
            <span class="sr-only">切换导航</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <div class="collapse navbar-collapse navlist" id="example-navbar-collapse">
            <ul class="nav navbar-nav navout">
                <li><button id="openroom">开房</button></li>
                <li><button id="beinroom">进房</button></li>
               
               <!--  <li><button onclick=" window.location.assign("localhost")">退出</button></li> -->
                </ul></div>
        <a href="index.html"><p class="navbar-brand" >Home</p></a>
        <input type="text"id="forroom" placeholder="请输入英文房间ID">
    </nav>
    <div id="alldanmu">

    </div>
    <div id="inputdanmu">
        <form class="bs-example bs-example-form" role="form">
            <div class="row"><br>
                <div class="col-lg-12">
                    <div class="input-group">
                        <input type="text" class="form-control"id="bibi">
               <span class="input-group-btn">
                  <div  class="btn btn-default" onclick="getdanmu()">
                      Go!
                  </div>
               </span>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>

</body>
</html>